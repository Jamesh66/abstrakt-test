<!DOCTYPE html>
<html
  lang="en"
  x-data="{
      darkMode: localStorage.getItem('darkMode')
      || localStorage.setItem('darkMode', 'system')}"
  x-init="$watch('darkMode', val => localStorage.setItem('darkMode', val))"
  x-bind:class="{'dark': darkMode === 'dark' || (darkMode === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  <style>
  [x-cloak] {display:none;}
  </style>

  {# vendor css #}
  <link rel="stylesheet" href="{{ rev('/css/vendor.combined.css') }}">
  {# site css #}
  <link rel="stylesheet" href="{{ rev('/css/app.css') }}">

  {# <!-- Alpine Plugins -->
  // moved alpine to build process
  #}
  {# persist plugin used to keep notice bar state across page loads #}
  {# <script defer src="https://unpkg.com/@alpinejs/persist@3.9.5/dist/cdn.min.js"></script>
  <script defer src="https://unpkg.com/@alpinejs/collapse@3.9.5/dist/cdn.min.js"></script>
  <script defer src="https://unpkg.com/@alpinejs/focus@3.9.5/dist/cdn.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.9.5/dist/cdn.min.js"></script>
  <script defer src="https://unpkg.com/alpinejs@3.9.5/dist/cdn.min.js"></script> #}

  <link rel="icon" href="/assets/images/svg/favicon.svg">
  {# for safari  https://medium.com/swlh/are-you-using-svg-favicons-yet-a-guide-for-modern-browsers-836a6aace3df #}
  <link rel="mask-icon" href="/assets/images/svg/favicon.svg" color="#000000">
  <link rel="apple-touch-icon" href="/assets/images/svg/favicon.svg">

  {% block pageCss %}{% endblock %}

  {# for sprig components #}
  {{ sprig.script }}

</head>
<body id="body" class="{{ craft.app.language }} relative text-grayBrand bg-white font-work text-base">

  {# set site name from DOTENV variable based on current site language #}
  {% if craft.app.language == 'en' %}
    {% set siteName = getenv('SITE_NAME_EN') %}
  {% endif %}
  {% if craft.app.language == 'fr' %}
    {% set siteName = getenv('SITE_NAME_FR') %}
  {% endif %}



  <header>
    <a href="#main-content" role="button"  aria-label="Skip to main content" class="flex flex-col justify-center skip-main" style="height:40px;">Skip to main content</a><!-- /.skip-main -->
    
    {#
      // main nav click dropdown this is better user experience
      // and better for accessibility
      // works with tertiary level dropdowns
    #}
    {% include '_includes/main-nav' %}

    {#
      // main nav hover dropdown
      // we use this when client insists on hover dropdowns
      // does NOT work with tertiary dropdowns
      // this is a little buggy at mobile and
      // needs work
      // also STRONGLY recommend to avoid due to
      // ACCESSIBILTY and USABILITY issues
    #}
    {# {% include '_includes/main-nav-hover' %} #}


  </header>

  <main id="main-content" aria-label="page content">
    {% block content %}{% endblock %}
  </main>

  <footer>
    {% include '_includes/footer' %}
  </footer>

  <!-- vendor scripts -->
  <script src="{{ rev('/js/plyr.min.js') }}"></script>
  <script src="{{ rev('/js/scripts.combined.js') }}"></script>
  {# -- Typekit fonts -- #}
  <script>
      (function(d) {
          var config = {
              kitId: 'fwt6vvl',
              scriptTimeout: 3000,
              async: true
          },
          h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);
  </script>

  {% block pageJs %}{% endblock %}
</body>
</html>
